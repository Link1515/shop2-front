{"version":3,"sources":["webpack:///./src/views/Admin.vue?a2ed","webpack:///./src/views/Admin.vue","webpack:///./src/views/AdminProducts.vue?fe22","webpack:///src/views/AdminProducts.vue","webpack:///./src/views/AdminProducts.vue?3479","webpack:///./src/views/AdminProducts.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/AdminHome.vue?d4b1","webpack:///./src/views/AdminHome.vue","webpack:///./src/views/AdminOrders.vue?179a","webpack:///src/views/AdminOrders.vue","webpack:///./src/views/AdminOrders.vue?6324","webpack:///./src/views/AdminOrders.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticRenderFns","script","component","directives","name","rawName","modifiers","staticClass","ref","products","fields","scopedSlots","_u","key","fn","data","item","staticStyle","image","_e","_s","sell","on","$event","editProduct","index","form","_id","length","modelSubmitting","submitModal","resetForm","state","model","value","callback","$$v","$set","expression","price","_n","category","categories","description","computed","methods","event","preventDefault","$bvModal","show","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error","orders","user","account","Date","date","toLocaleString","_l","product","quantity"],"mappings":"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","file":"js/admin.efcdb63d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"id\":\"admin\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-nav',{attrs:{\"pills\":\"\",\"justified\":\"\"}},[_c('b-nav-item',{attrs:{\"to\":\"/admin/products\",\"exact\":\"\",\"exact-active-class\":\"active\"}},[_vm._v(\"商品管理\")]),_c('b-nav-item',{attrs:{\"to\":\"/admin/orders\",\"exact\":\"\",\"exact-active-class\":\"active\"}},[_vm._v(\"訂單管理\")])],1)],1),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=3e9b487a&lang=pug&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"adminproduct\"}},[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-product\",modifiers:{\"modal-product\":true}}],staticClass:\"my-5\",attrs:{\"block\":\"\",\"variant\":\"success\"}},[_vm._v(\"新增\")]),_c('b-table',{ref:\"table\",attrs:{\"items\":_vm.products,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(image)\",fn:function(data){return [(data.item.image)?_c('img',{staticStyle:{\"height\":\"50px\"},attrs:{\"src\":data.item.image}}):_vm._e()]}},{key:\"cell(sell)\",fn:function(data){return [_vm._v(_vm._s(data.item.sell ? 'v' : ''))]}},{key:\"cell(action)\",fn:function(data){return [_c('b-btn',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editProduct(data.index)}}},[_vm._v(\"編輯\")])]}}])}),_c('b-modal',{attrs:{\"id\":\"modal-product\",\"title\":_vm.form._id.length > 0 ? '編輯商品' : '新增商品',\"centered\":\"\",\"ok-varient\":\"success\",\"ok-title\":\"送出\",\"cancel-varient\":\"danger\",\"cancel-title\":\"取消\",\"ok-disabled\":_vm.modelSubmitting,\"cancel-disabled\":_vm.modelSubmitting},on:{\"ok\":_vm.submitModal,\"hidden\":_vm.resetForm}},[_c('b-form-group',{attrs:{\"label\":\"商品名稱\",\"label-for\":\"input-name\",\"description\":\"必填欄位\",\"invalid-feedback\":\"商品名稱必填\"}},[_c('b-form-input',{attrs:{\"id\":\"input-price\",\"type\":\"text\",\"required\":\"\",\"placeholder\":\"請輸入商品價格\",\"satae\":_vm.state.name},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('b-form-group',{attrs:{\"label\":\"商品價格\",\"label-for\":\"input-price\",\"description\":\"商品價格\",\"invalid-feedback\":\"價格必須是 0 元以上\",\"state\":_vm.state.price}},[_c('b-form-input',{attrs:{\"id\":\"input-price\",\"type\":\"number\",\"min\":\"0\",\"required\":\"\",\"placeholder\":\"請輸入商品價格\",\"satae\":_vm.state.price},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", _vm._n($$v))},expression:\"form.price\"}})],1),_c('b-form-group',{attrs:{\"label\":\"商品分類\",\"label-for\":\"input-category\",\"description\":\"商品分類\",\"invalid-feedback\":\"分類必填\",\"state\":_vm.state.category}},[_c('b-form-select',{attrs:{\"id\":\"input-category\",\"required\":\"\",\"options\":_vm.categories,\"placeholder\":\"請輸入商品價格\",\"satae\":_vm.state.category},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}})],1),_c('b-form-group',{attrs:{\"label\":\"商品說明\",\"label-for\":\"input-description\",\"description\":\"必填欄位\",\"invalid-feedback\":\"說明必填\"}},[_c('b-form-textarea',{attrs:{\"id\":\"input-description\",\"required\":\"\",\"rows\":\"3\",\"max-rows\":\"6\",\"placeholder\":\"請輸入商品說明\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('b-form-group',{attrs:{\"label\":\"上架\"}},[_c('b-form-radio',{attrs:{\"value\":true},model:{value:(_vm.form.sell),callback:function ($$v) {_vm.$set(_vm.form, \"sell\", $$v)},expression:\"form.sell\"}},[_vm._v(\"上架\")]),_c('b-form-radio',{attrs:{\"value\":false},model:{value:(_vm.form.sell),callback:function ($$v) {_vm.$set(_vm.form, \"sell\", $$v)},expression:\"form.sell\"}},[_vm._v(\"下架\")])],1),_c('img-inputer',{attrs:{\"accept\":\"image/*\",\"theme\":\"light\",\"size\":\"large\",\"bottom-text\":\"點擊或拖曳圖片以修改\",\"hover-text\":\"點擊或拖曳圖片以修改\",\"placeholder\":\"點選或拖曳選擇圖片\",\"max-size\":1024},model:{value:(_vm.form.image),callback:function ($$v) {_vm.$set(_vm.form, \"image\", $$v)},expression:\"form.image\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n#adminproduct\n  b-btn.my-5(block variant='success' v-b-modal.modal-product) 新增\n  b-table(:items=\"products\" :fields=\"fields\" ref=\"table\")\n    template(#cell(image)=\"data\")\n      img(v-if=\"data.item.image\" :src=\"data.item.image\" style=\"height: 50px;\")\n    template(#cell(sell)=\"data\")\n      | {{ data.item.sell ? 'v' : '' }}\n    template(#cell(action)=\"data\")\n      b-btn(variant=\"success\" @click=\"editProduct(data.index)\") 編輯\n  b-modal#modal-product(\n    :title=\"form._id.length > 0 ? '編輯商品' : '新增商品'\"\n    centered\n    ok-varient=\"success\"\n    ok-title=\"送出\"\n    cancel-varient=\"danger\"\n    cancel-title=\"取消\"\n    @ok=\"submitModal\"\n    @hidden=\"resetForm\"\n    :ok-disabled=\"modelSubmitting\"\n    :cancel-disabled=\"modelSubmitting\"\n  )\n    b-form-group(\n      label=\"商品名稱\"\n      label-for=\"input-name\"\n      description=\"必填欄位\"\n      invalid-feedback=\"商品名稱必填\"\n    )\n      b-form-input#input-price(\n        v-model=\"form.name\"\n        type=\"text\"\n        required\n        placeholder=\"請輸入商品價格\"\n        :satae=\"state.name\"\n      )\n    b-form-group(\n      label=\"商品價格\"\n      label-for=\"input-price\"\n      description=\"商品價格\"\n      invalid-feedback=\"價格必須是 0 元以上\"\n      :state=\"state.price\"\n    )\n      b-form-input#input-price(\n        v-model.number=\"form.price\"\n        type=\"number\"\n        min=\"0\"\n        required\n        placeholder=\"請輸入商品價格\"\n        :satae=\"state.price\"\n      )\n    b-form-group(\n      label=\"商品分類\"\n      label-for=\"input-category\"\n      description=\"商品分類\"\n      invalid-feedback=\"分類必填\"\n      :state=\"state.category\"\n    )\n      b-form-select#input-category(\n        v-model=\"form.category\"\n        required\n        :options=\"categories\"\n        placeholder=\"請輸入商品價格\"\n        :satae=\"state.category\"\n      )\n    b-form-group(\n      label=\"商品說明\"\n      label-for=\"input-description\"\n      description=\"必填欄位\"\n      invalid-feedback=\"說明必填\"\n    )\n      b-form-textarea#input-description(\n        v-model=\"form.description\"\n        required\n        rows=\"3\"\n        max-rows=\"6\"\n        placeholder=\"請輸入商品說明\"\n      )\n    b-form-group(label=\"上架\")\n      b-form-radio(v-model=\"form.sell\" :value=\"true\") 上架\n      b-form-radio(v-model=\"form.sell\" :value=\"false\") 下架\n    img-inputer(\n      accept=\"image/*\"\n      v-model=\"form.image\"\n      theme=\"light\"\n      size=\"large\"\n      bottom-text=\"點擊或拖曳圖片以修改\"\n      hover-text=\"點擊或拖曳圖片以修改\"\n      placeholder=\"點選或拖曳選擇圖片\"\n      :max-size=\"1024\"\n    )\n</template>\n\n<script>\nexport default {\n  name: 'AdminProducts',\n  data () {\n    return {\n      fields: [\n        { key: 'image', label: '圖片' },\n        { key: 'name', label: '名稱' },\n        { key: 'price', label: '價格' },\n        { key: 'category', label: '分類' },\n        { key: 'description', label: '說明' },\n        { key: 'sell', label: '上架' },\n        { key: 'action', label: '操作' }\n      ],\n      categories: [\n        { text: '請選擇分類', value: '' },\n        '飾品', '皮件', '鞋子'\n      ],\n      form: {\n        name: '',\n        price: null,\n        description: '',\n        image: null,\n        sell: false,\n        category: '',\n        _id: ''\n      },\n      modelSubmitting: false,\n      products: []\n    }\n  },\n  computed: {\n    state () {\n      return {\n        name: this.form.name.length === 0 ? null : true,\n        price: this.form.price === null ? null : this.form.price >= 0,\n        category: this.form.category.length === 0 ? null : true\n      }\n    }\n  },\n  methods: {\n    async submitModal (event) {\n      event.preventDefault()\n      if (!this.state.name || !this.state.price || !this.state.category) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: '缺少必要欄位'\n        })\n        return\n      }\n      this.modelSubmitting = true\n\n      const fd = new FormData()\n      for (const key in this.form) {\n        if (key !== '_id') {\n          fd.append(key, this.form[key])\n        }\n      }\n\n      try {\n        if (this.form._id.length === 0) {\n          const { data } = await this.api.post('/products', fd, {\n            headers: {\n              authorization: 'Bearer ' + this.user.token\n            }\n          })\n          this.products.push(data.result)\n        } else {\n          const { data } = await this.api.patch('/products/' + this.form._id, fd, {\n            headers: {\n              authorization: 'Bearer ' + this.user.token\n            }\n          })\n          this.products[this.form.index] = {\n            ...this.form,\n            image: data.result.image\n          }\n          this.$refs.table.refresh()\n        }\n        this.$bvModal.hide('modal-product')\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: error.response.data.message\n        })\n      }\n\n      this.modelSubmitting = false\n    },\n    resetForm (event) {\n      if (this.modelSubmitting) {\n        event.preventDefault()\n        return\n      }\n      this.form = {\n        name: '',\n        price: 0,\n        description: '',\n        image: null,\n        sell: false,\n        category: '',\n        _id: '',\n        index: -1\n      }\n    },\n    editProduct (index) {\n      this.form = {\n        ...this.products[index],\n        image: null,\n        index\n      }\n      this.$bvModal.show('modal-product')\n    }\n  },\n  async created () {\n    try {\n      const { data } = await this.api.get('/products/all', {\n        headers: {\n          authorization: 'Bearer ' + this.user.token\n        }\n      })\n      this.products = data.result\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '錯誤',\n        text: '取得商品失敗'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminProducts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminProducts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminProducts.vue?vue&type=template&id=6c0fa076&lang=pug&\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"text-center\"},[_vm._v(\"請選擇管理項目\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AdminHome.vue?vue&type=template&id=4352e888&lang=pug&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"adminorders\"}},[_c('b-table',{attrs:{\"items\":_vm.orders,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(user)\",fn:function(data){return [_vm._v(_vm._s(data.item.user.account))]}},{key:\"cell(data)\",fn:function(data){return [_vm._v(_vm._s(new Date(data.item.date).toLocaleString('zh-tw')))]}},{key:\"cell(products)\",fn:function(data){return [_c('ul',_vm._l((data.item.products),function(product){return _c('li',{key:product._id},[_vm._v(_vm._s(product.product.name)+\" x \"+_vm._s(product.quantity))])}),0)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n#adminorders\n  b-table(:items=\"orders\" :fields=\"fields\")\n    template(#cell(user)=\"data\")\n      | {{ data.item.user.account }}\n    template(#cell(data)=\"data\")\n      | {{ new Date(data.item.date).toLocaleString('zh-tw')}}\n    template(#cell(products)=\"data\")\n      ul\n        li(v-for=\"product in data.item.products\" :key=\"product._id\") {{ product.product.name }} x {{ product.quantity }}\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      orders: [],\n      fields: [\n        { key: '_id', label: '單號' },\n        { key: 'user', label: '使用者' },\n        { key: 'date', label: '日期' },\n        { key: 'products', label: '商品' }\n      ]\n    }\n  },\n  async created () {\n    try {\n      const { data } = await this.api.get('/orders/all', {\n        headers: {\n          authorization: 'Bearer ' + this.user.token\n        }\n      })\n      this.orders = data.result\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '失敗',\n        text: '取得訂單失敗'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrders.vue?vue&type=template&id=797d3f80&lang=pug&\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}